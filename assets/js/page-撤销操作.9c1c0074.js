(window.webpackJsonp=window.webpackJsonp||[]).push([[245],{1037:function(s,t,n){"use strict";n.r(t);var a=n(1),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("在任何一个阶段，您都有可能想要撤消某些操作。这里，我们将会学习几个撤消您所做修改的基本工具。注\n意，有些撤消操作是不可逆的。这是在使用 Git 的过程中，会因为操作失误而导致之前的工作丢失的少有的几个\n地方之一。")]),s._v(" "),n("p",[s._v("有时候我们提交完了才发现漏掉了几个文件没有添加，或者提交信息写错了。此时，可以运行带有 "),n("code",[s._v("--amend")]),s._v(" 选\n项的提交命令来重新提交:")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit --amend\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("这个命令会将暂存区中的文件提交。如果自上次提交以来您还未做任何修改(例如，在上次提交后马上执行了\n此命令)， 那么快照会保持不变，而您所修改的只是提交信息。")]),s._v(" "),n("p",[s._v("文本编辑器启动后，可以看到之前的提交信息。编辑后保存会覆盖原来的提交信息。")]),s._v(" "),n("p",[s._v("例如，您提交后发现忘记了暂存某些需要的修改，可以像下面这样操作:")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'initial commit'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" forgotten_file\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit --amend\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("最终您只会有一个提交——第二次提交将代替第一次提交的结果。")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),n("p",[s._v("当您在修补最后的提交时，并不是通过用改进后的提交 原位替换 掉旧有提交的方式来修复\n的， 理解这一点非常重要。从效果上来说，就像是旧有的提交从未存在过一样，它并不会出\n现在仓库的历史中。")]),s._v(" "),n("p",[s._v("修补提交最明显的价值是可以稍微改进您最后的提交，而不会让“啊，忘了添加一个文件”或\n者 “小修补，修正笔误”这种提交信息弄乱您的仓库历史。")])])])}),[],!1,null,null,null);t.default=e.exports}}]);